{PRODUCTOR}

4 .tamaÃ±o

"pc-1" $tamaÃ±o sharedQueue.create .queue

"pc-1-n" 0 semaphore.create .N
"pc-1-s" 1 semaphore.create .S
"pc-1-e" $tamaÃ±o semaphore.create .E

[] "ğŸ˜€" append
   "ğŸ¤£" append
   "ğŸ˜" append
   "ğŸ˜‡" append
   "ğŸ¤ª" append
   "ğŸ¥¸" append
   "ğŸ¥³" append
   "ğŸ¥º" append
   "ğŸ¤©" append
   "ğŸ¤¬" append
   "ğŸ¥¶" append
   "ğŸˆ" append
   "ğŸ¥Œ" append
   "ğŸšŒ" append
   "ğŸš" append
   "ğŸ›" append
   "ğŸ¥" append
   "ğŸ“" append
   "ğŸ™" append
   "ğŸ¿" append
   "ğŸ‘©â€" append
.lista


:main

    "Insertando: " console.print

    $lista dup len random * at dup 
    console.print
    (insertar)

    " [OK]" console.println

    1000 timer.sleep

@main


:insertar
    $E semaphore.p
    $S semaphore.p

    $queue swap append drop

    $S semaphore.v
    $N semaphore.v
    return
    